/*!
 * bind-to - simple two way data-binding
 * v0.0.4
 * https://github.com/firstandthird/bind-to
 * copyright First+Third 2014
 * MIT License
*/
!function(){"use strict";$.fn.bindTo=$.bindTo=function(a){function b(a){var b;return b=l.indexOf(a.nodeName)>-1?"val":"text"}function c(a){var b="keyup";switch(a.nodeName){case"INPUT":k.indexOf(a.getAttribute("type").toLowerCase())>-1&&(b="change");break;case"SELECT":b="change";break;case"TEXTAREA":b="keyup";break;default:b=a.hasAttribute("contenteditable")?"keyup":null}return b+".bindTo"}var d,e,f,g,h=$(a),i=this,j=h.length?h:i,k=["checkbox","radio"],l=["INPUT","SELECT","TEXTAREA"];if(!j.length)throw new Error("bindTo is not attached to any element!");e=c(j[0]),f=b(j[0]),g=i.jquery&&b(i[0]);var m={set:function(a){j[f](a),e&&j.trigger(e)},get:function(){return j[f]()},onChange:function(a){j.data("bindToCallbacks").push(a)}};return j.data("bindToInit")||(j.data("bindToInit",!0),j.data("bindToCallbacks",[]),e&&j.on(e,function(a){var b=this,c=m.get();d!==c&&(j.data("bindToCallbacks").forEach(function(e){e.call(b,a,c,d)}),d=c)})),i.jquery&&h.length&&m.onChange(function(a,b){i[g](b)}),m.get()&&setTimeout(function(){j.trigger(e)},0),m}}();